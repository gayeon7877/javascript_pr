<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>데이터추출</title>
</head>
<body>
    <h1>20_특정카테고리에서_필요한_개수만큼_데이터추출</h1>

    <script>
        const response = {
            "products" : [{"category":"수상스포츠","description":"It's important for Node.js to provide ","name":"천리안수경","price":19.5,"id":"ab353c2d2f1928c3"},{"category":"수상스포츠","description":"documentation to its users","name":"수상얼럿","price":48.95,"id":"cc2a8341d4d7e958"},{"category":"축구","description":"documentation means different things ","name":"Soccer  Ball","price":19.5,"id":"c076689f70dab814"},{"category":"축구","description":"to different people. Here on nodejs.org","name":"Corner Flags","price":34.95,"id":"080a0a093a51b820"},{"category":"수상스포츠","description":"you will find three types of ","name":"쇼보트 크로스바","price":79500,"id":"c16f34a24e6c1995"},{"name":"Thinking Cap","description":"documentation: API reference ","category":"체스","price":29.95,"id":"910d207c24b6b936"},{"name":"Unsteady Chair","description":"frequently asked questions","category":"체스","price":16,"id":"5ac604837811b9cd"},{"name":"Human 체스 Board","description":"Our API reference documentation is ","category":"체스","price":75,"id":"07c45c3e631c585c"},{"name":"크레씨비치","description":"meant to provide detailed version ","category":"수상스포츠","price":1200,"id":"5ff803beb540da95"}]      
        };

        console.log(`response의 데이터타입은 ${typeof response}`);//object

        //위 response 객체를 직렬화하고 콘솔창에 이쁘게 출력하시오.
        const strResponse = JSON.stringify(response,null,2);
        console.log('strResponse = %s', strResponse);

        //위 strResponse 문자열을 역직렬화후 콘솔창에 출력하시오.
        const objResponse = JSON.parse(strResponse);
        console.log('objResponse = %j', objResponse);

        //특정카테고리에서_필요한_개수만큼_데이터추출
        const products = response.products;//배열
        const newData = new Array();

        const getProdFn = function(cate, ea){
            newData.splice(0);

            //제품전수조사
            for(let i=0;i<products.length;i++){
                let category = products[i].category;//카테고리 추출
                
                if(category===cate && newData.length<ea){                    
                    newData.push(products[i]);
                }
            }

            console.log('cate =',cate);
            console.log('newData =', newData);
        };

        getProdFn('수상스포츠', 2);
        getProdFn('축구',1);
    </script>
</body>
</html>